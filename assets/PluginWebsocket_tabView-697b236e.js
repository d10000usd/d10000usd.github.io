import{_ as f,r as u,o as g,c as T,a as e,n as k,b as B,t as v,d as w,p as M,e as y,w as x,F as $,f as I,g as H,h as O,i as N,v as F,j as V,k as P}from"./index-7ad19909.js";import{a as X}from"./axios-21b846bc.js";const D=(l,r,a,o,R,W)=>{let d=null;const m=_=>{try{if(_.data instanceof Blob)_.data.text().then(p=>{const K=JSON.parse(p);W(K)});else{const p=JSON.parse(_.data);W(p)}}catch(p){console.error("Error parsing WebSocket message:",p)}};try{d=new WebSocket("wss://api.upbit.com/websocket/v1"),d.onopen=()=>{d==null||d.send(JSON.stringify([{ticket:"test"},{type:"ticker",codes:l}]))},d.onclose=_=>{console.error("WebSocket closed:",_)},d.onmessage=m}catch(_){console.log(_)}};const U=l=>(M("data-v-fb0c9273"),l=l(),y(),l),G={class:"row"},j={class:"col-12 col-md-4 col-lg-3"},J={class:"card"},z=["src"],Q=U(()=>e("div",{class:"col-12 col-md-8 col-lg-9"},[e("div")],-1)),Z="https://m.stock.naver.com/crypto/UPBIT/",Y={__name:"PluginType_Tab",props:{message:Object},setup(l){const r=l,a=r.message.code.split("-")[1],o=u(Z+a),R=u(!1),W=()=>{R.value=!R.value};return(d,m)=>(g(),T("div",G,[e("div",j,[e("div",J,[e("button",{onClick:W,class:k({active:R.value}),style:B({backgroundColor:l.message.signed_change_rate>=0?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 255, 0.5)",color:"black",fontSize:"13px"})},v(R.value?l.message.code:r.message.code.split("-")[1])+" "+v((r.message.signed_change_rate*100).toFixed(2)),7)])]),R.value?(g(),T("iframe",{key:0,src:o.value,width:"100%",height:"500",scrolling:"no"},null,8,z)):w("",!0),Q]))}},q=f(Y,[["__scopeId","data-v-fb0c9273"]]);const ee=l=>(M("data-v-28c13806"),l=l(),y(),l),te={class:"mobile-font",style:{"font-size":"12px"}},se={class:"container"},oe={key:0,class:"alert alert-info"},ae={class:"container"},ce={class:"list-group"},ne={class:"row font-weight-bold"},le=ee(()=>e("div",{class:"col-2"},"Key",-1)),ie={class:"col-2"},re={class:"col-2"},de={class:"col-2"},Re={class:"col-2"},_e={class:"col-2"},ue=["onClick"],We={class:"row g-3"},Ke={class:"col-2 col-md-1"},ve={class:"col-2 col-md-1"},ge={class:"col-2 col-md-1"},pe={class:"col-2 col-md-1"},he={class:"col-2 col-md-1"},me={class:"col-2 col-md-1"},be=1e6,Te={__name:"PluginType_Tab_report",props:{message:Object},setup(l){const r=l,a=u(null),o=u(Object.assign({},r.message)),R=u([]),W=u("signed_change_rate"),d=u({signed_change_rate:!0,priceChangeFromLowest:!0,priceChangeFromHighest:!0,trade_price:!0,volume:!0}),m=n=>{a.value=n};function _(n){const c=["","K","M","B","T"];let t=0;for(;n>=1e3&&t<c.length-1;)n/=1e3,t++;return n.toFixed(2)+c[t]}const p=_(be);console.log(p);const K=n=>{W.value=n,R.value=Array.from(Object.keys(o.value)).sort((c,t)=>{var i,C,h,A,L,E;const s=d.value[n]?1:-1;switch(n){case"signed_change_rate":return s*((((i=o.value[t])==null?void 0:i.signed_change_rate)||0)-(((C=o.value[c])==null?void 0:C.signed_change_rate)||0));case"priceChangeFromLowest":return s*((b(o.value[t],"lowest_52_week_price")||0)-(b(o.value[c],"lowest_52_week_price")||0));case"priceChangeFromHighest":return s*((b(o.value[t],"highest_52_week_price")||0)-(b(o.value[c],"highest_52_week_price")||0));case"trade_price":return s*((((h=o.value[t])==null?void 0:h.trade_price)||0)-(((A=o.value[c])==null?void 0:A.trade_price)||0));case"volume":return s*((((L=o.value[t])==null?void 0:L.acc_trade_price_24h)||0)-(((E=o.value[c])==null?void 0:E.acc_trade_price_24h)||0));default:return 0}})},S=n=>{d.value[n]=!d.value[n],K(n)};x(()=>r.message,n=>{o.value=Object.assign({},n),K(W.value)});const b=(n,c)=>{const t=n[c];return((n.trade_price-t)/t*100).toFixed(2)};return(n,c)=>(g(),T("div",te,[e("div",se,[a.value?(g(),T("p",oe,"Selected Value: "+v(o.value[a.value]),1)):w("",!0)]),e("div",ae,[e("ul",ce,[e("div",ne,[le,e("div",ie,[e("button",{onClick:c[0]||(c[0]=t=>S("signed_change_rate")),"aria-label":"Sort by Rate"},"R")]),e("div",re,[e("button",{onClick:c[1]||(c[1]=t=>S("priceChangeFromLowest")),"aria-label":"Sort by Lowest"},"L")]),e("div",de,[e("button",{onClick:c[2]||(c[2]=t=>S("priceChangeFromHighest")),"aria-label":"Sort by Highest"},"H")]),e("div",Re,[e("button",{onClick:c[3]||(c[3]=t=>S("volume")),"aria-label":"Sort by Volume"},"V")]),e("div",_e,[e("button",{onClick:c[4]||(c[4]=t=>S("trade_price")),"aria-label":"Sort by Price"},"P")])]),(g(!0),T($,null,I(R.value,t=>{var s,i,C,h,A;return g(),T("li",{key:t,class:"list-group-item",onClick:L=>m(t)},[e("div",We,[e("div",Ke,v((i=(s=o.value[t])==null?void 0:s.code)==null?void 0:i.split("-")[1]),1),e("div",ve,v(((((C=o.value[t])==null?void 0:C.signed_change_rate)||0)*100).toFixed(2)),1),e("div",ge,v(b(o.value[t],"lowest_52_week_price")),1),e("div",pe,v(b(o.value[t],"highest_52_week_price")),1),e("div",he,v(_((((h=o.value[t])==null?void 0:h.acc_trade_price_24h)||0).toFixed(1))),1),e("div",me,v((((A=o.value[t])==null?void 0:A.trade_price)||0).toFixed(2)),1)])],8,ue)}),128))])])]))}},Se=f(Te,[["__scopeId","data-v-28c13806"]]);async function Ce(){try{const r=(await X.get("https://api.upbit.com/v1/market/all")).data;r.sort((a,o)=>a.trade_price-o.trade_price),r.forEach(a=>{console.log(`${a.market}의 현재 가격: ${a.trade_price}`)})}catch(l){console.error("업비트 API 호출 중 오류가 발생했습니다:",l)}}const ke=["KRW-KAVA","KRW-ORBS","KRW-SOL","KRW-META","KRW-LOOM","KRW-TFUEL","KRW-BTC","KRW-WAVES","KRW-XEC","KRW-ETH","KRW-GLM","KRW-WAXP","KRW-SUI","KRW-ARB","KRW-SNT","KRW-MATIC","KRW-EGLD","KRW-STEEM"],Ae=["KRW-WAVES","KRW-GLM","KRW-SNT","KRW-STEEM","KRW-SBD","KRW-WAXP","KRW-GAS","KRW-LOOM","KRW-HIFI","KRW-META","KRW-TFUEL","KRW-ORBS","KRW-KAVA","KRW-XEC"],Le=["KRW-BTC","KRW-ETH","KRW-EGLD","KRW-ARB","KRW-MATIC","KRW-SOL","KRW-SUI"],fe=["KRW-ZRX","KRW-STMX","KRW-AVAX","KRW-MTL","KRW-CRO","KRW-MANA","KRW-AQT","KRW-ICX","KRW-KAVA","KRW-SHIB","KRW-BLUR","KRW-ORBS","KRW-IOST","KRW-LINK","KRW-ZIL","KRW-SAND","KRW-SSX","KRW-TT","KRW-DOT","KRW-ALGO","KRW-NEAR","KRW-IMX","KRW-CBK","KRW-KNC","KRW-MASK","KRW-ARDR","KRW-DOGE","KRW-QKC","KRW-CRE","KRW-BAT","KRW-FLOW","KRW-IOTA","KRW-SEI","KRW-SOL","KRW-TRX","KRW-AXS","KRW-APT","KRW-PUNDIX","KRW-EOS","KRW-GMT","KRW-IQ","KRW-CELO","KRW-CHZ","KRW-XTZ","KRW-PLA","KRW-MED","KRW-XLM","KRW-T","KRW-ATOM","KRW-XRP","KRW-GRT","KRW-JST","KRW-META","KRW-HIVE","KRW-BORA","KRW-ANKR","KRW-AHT","KRW-1INCH","KRW-STPT","KRW-FCT2","KRW-ADA","KRW-MLK","KRW-THETA","KRW-MOC","KRW-MBL","KRW-HPO","KRW-POWR","KRW-DKA","KRW-POLYX","KRW-AERGO","KRW-LOOM","KRW-TFUEL","KRW-SXP","KRW-CVC","KRW-BTC","KRW-SC","KRW-MVL","KRW-ONT","KRW-HBAR","KRW-ELF","KRW-WAVES","KRW-UPP","KRW-XEC","KRW-HUNT","KRW-ETH","KRW-GLM","KRW-BCH","KRW-WAXP","KRW-STRAX","KRW-VET","KRW-QTUM","KRW-STRK","KRW-BTG","KRW-MINA","KRW-SUI","KRW-BSV","KRW-STX","KRW-ARB","KRW-XEM","KRW-SNT","KRW-AAVE","KRW-ETC","KRW-MATIC","KRW-LSK","KRW-EGLD","KRW-NEO","KRW-STORJ","KRW-ONG","KRW-STEEM"];const Ee={class:"container mt-3"},Oe={class:"d-flex align-items-center mb-3"},we={class:"mx-3 badge bg-secondary"},Me={class:"row"},ye={class:"col-md-12"},$e={class:"tab-buttons"},Ie={class:"row"},Pe={class:"col-md-6"},Be={class:"tab-buttons"},xe={__name:"PluginWebsocket_tabMain",setup(l){const r=u(150),a=u("Hold"),o=ke,R=Ae,W=Le,d=u(fe),m=u({}),_=[...new Set([...o,...d.value])];u(null);const p=async()=>{try{const t=await Ce()}catch(t){console.error("Error retrieving Upbit coin prices:",t)}},K=t=>{a.value=t},S=t=>{const s=t.code;(R.includes(s)||W.includes(s)||d.value.includes(s))&&(m.value[s]=t)};H(()=>{D(_,m,R,W,d,S)});const b=O(()=>{const t=C=>{const h=C.code;return a.value==="Hold"&&R.includes(h)||a.value==="WatchList"&&W.includes(h)||a.value==="RankList"&&d.value.includes(h)};return Object.values(m.value).filter(t).slice(0,r.value)}),n=O(()=>{const t=[...b.value];return t.sort((s,i)=>i.signed_change_rate-s.signed_change_rate),t}),c=t=>{r.value=t.target.value};return(t,s)=>(g(),T("div",Ee,[e("div",Oe,[N(e("input",{type:"range",min:"1",max:"130","onUpdate:modelValue":s[0]||(s[0]=i=>r.value=i),onInput:c,class:"form-range",style:{width:"100%"}},null,544),[[F,r.value]]),e("span",we,v(r.value),1)]),e("div",{class:"d-flex mb-3"},[e("button",{onClick:p,class:"btn btn-primary"},"New Button")]),e("div",Me,[e("div",ye,[e("div",$e,[e("button",{onClick:s[1]||(s[1]=i=>K("Hold")),class:k({active:a.value==="Hold"})},"Hold",2),e("button",{onClick:s[2]||(s[2]=i=>K("WatchList")),class:k({active:a.value==="WatchList"})},"WatchList",2),e("button",{onClick:s[3]||(s[3]=i=>K("RankList")),class:k({active:a.value==="RankList"})},"RankList",2)]),V(Se,{message:n.value},null,8,["message"]),e("div",Ie,[e("div",Pe,[e("div",Be,[e("button",{onClick:s[4]||(s[4]=i=>K("Hold")),class:k({active:a.value==="Hold"})},"Hold",2),e("button",{onClick:s[5]||(s[5]=i=>K("WatchList")),class:k({active:a.value==="WatchList"})},"WatchList",2),e("button",{onClick:s[6]||(s[6]=i=>K("RankList")),class:k({active:a.value==="RankList"})},"RankList",2)]),(g(!0),T($,null,I(n.value,i=>(g(),P(q,{message:i,key:i.code},null,8,["message"]))),128))])])])])]))}},He=f(xe,[["__scopeId","data-v-c1ac9c70"]]),Ve={__name:"PluginWebsocket_tabView",setup(l){return(r,a)=>(g(),P(He))}};export{Ve as default};
