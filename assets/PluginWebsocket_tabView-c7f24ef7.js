import{_ as E,r as g,o as h,c as S,a as e,n as k,b as P,t as m,d as f,p as w,e as M,w as I,F as L,f as y,g as B,h as O,i as H,v as F,j as N,k as $}from"./index-dac431ce.js";import{a as V}from"./axios-21b846bc.js";const X=(n,r,o,s,W,p)=>{let d=null;const T=v=>{try{if(v.data instanceof Blob)v.data.text().then(K=>{const _=JSON.parse(K);p(_)});else{const K=JSON.parse(v.data);p(K)}}catch(K){console.error("Error parsing WebSocket message:",K)}};try{d=new WebSocket("wss://api.upbit.com/websocket/v1"),d.onopen=()=>{d==null||d.send(JSON.stringify([{ticket:"test"},{type:"ticker",codes:n}]))},d.onclose=v=>{console.error("WebSocket closed:",v)},d.onmessage=T}catch(v){console.log(v)}};const x=n=>(w("data-v-fb0c9273"),n=n(),M(),n),D={class:"row"},U={class:"col-12 col-md-4 col-lg-3"},G={class:"card"},j=["src"],J=x(()=>e("div",{class:"col-12 col-md-8 col-lg-9"},[e("div")],-1)),Q="https://m.stock.naver.com/crypto/UPBIT/",Z={__name:"PluginType_Tab",props:{message:Object},setup(n){const r=n,o=r.message.code.split("-")[1],s=g(Q+o),W=g(!1),p=()=>{W.value=!W.value};return(d,T)=>(h(),S("div",D,[e("div",U,[e("div",G,[e("button",{onClick:p,class:k({active:W.value}),style:P({backgroundColor:n.message.signed_change_rate>=0?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 255, 0.5)",color:"black",fontSize:"13px"})},m(W.value?n.message.code:r.message.code.split("-")[1])+" "+m((r.message.signed_change_rate*100).toFixed(2)),7)])]),W.value?(h(),S("iframe",{key:0,src:s.value,width:"100%",height:"500",scrolling:"no"},null,8,j)):f("",!0),J]))}},z=E(Z,[["__scopeId","data-v-fb0c9273"]]);const Y=n=>(w("data-v-e1a7f49b"),n=n(),M(),n),q={class:"coininfo mt-3"},ee={key:0,class:"alert alert-info"},te={class:"coininfo"},se={class:"list-group"},oe={class:"row font-weight-bold"},ae=Y(()=>e("div",{class:"col-md-1"},"key",-1)),ce={class:"col-md-1"},ne={class:"col-md-1"},le={class:"col-md-1"},ie={class:"col-md-3"},re={class:"col-md-2"},de=["onClick"],Re={class:"row"},_e={class:"col-md-1"},ue={class:"col-md-1"},We={class:"col-md-1"},Ke={class:"col-md-1"},ve={class:"col-md-2"},ge={class:"col-md-3"},pe={__name:"PluginType_Tab_report",props:{message:Object},setup(n){const r=n,o=g(null),s=g(Object.assign({},r.message)),W=g([]),p=g("signed_change_rate"),d=g({signed_change_rate:!0,priceChangeFromLowest:!0,priceChangeFromHighest:!0,trade_price:!0,volume:!0}),T=R=>{o.value=R},v=R=>{p.value=R,W.value=Array.from(Object.keys(s.value)).sort((l,u)=>{var c,t,i,C,b,A;const a=d.value[R]?1:-1;switch(R){case"signed_change_rate":return a*((((c=s.value[u])==null?void 0:c.signed_change_rate)||0)-(((t=s.value[l])==null?void 0:t.signed_change_rate)||0));case"priceChangeFromLowest":return a*((_(s.value[u],"lowest_52_week_price")||0)-(_(s.value[l],"lowest_52_week_price")||0));case"priceChangeFromHighest":return a*((_(s.value[u],"highest_52_week_price")||0)-(_(s.value[l],"highest_52_week_price")||0));case"trade_price":return a*((((i=s.value[u])==null?void 0:i.trade_price)||0)-(((C=s.value[l])==null?void 0:C.trade_price)||0));case"volume":return a*((((b=s.value[u])==null?void 0:b.acc_trade_volume_24h)||0)-(((A=s.value[l])==null?void 0:A.acc_trade_volume_24h)||0));default:return 0}})},K=R=>{d.value[R]=!d.value[R],v(R)};I(()=>r.message,R=>{s.value=Object.assign({},R),v(p.value)});const _=(R,l)=>{const u=R[l];return((R.trade_price-u)/u*100).toFixed(2)};return(R,l)=>{var u;return h(),S(L,null,[e("div",q,[o.value?(h(),S("p",ee,"Selected Value: "+m((u=s.value[o.value])==null?void 0:u.code),1)):f("",!0)]),e("div",te,[e("ul",se,[e("div",oe,[ae,e("div",ce,[e("button",{onClick:l[0]||(l[0]=a=>K("signed_change_rate")),"aria-label":"Sort by Rate"},"Rate")]),e("div",ne,[e("button",{onClick:l[1]||(l[1]=a=>K("priceChangeFromLowest")),"aria-label":"Sort by Lowest"},"Lowest")]),e("div",le,[e("button",{onClick:l[2]||(l[2]=a=>K("priceChangeFromHighest")),"aria-label":"Sort by Highest"},"Highest")]),e("div",ie,[e("button",{onClick:l[3]||(l[3]=a=>K("volume")),"aria-label":"Sort by Volume"},"Volume")]),e("div",re,[e("button",{onClick:l[4]||(l[4]=a=>K("trade_price")),"aria-label":"Sort by Price"},"Price")])]),(h(!0),S(L,null,y(W.value,a=>{var c,t,i,C,b;return h(),S("li",{key:a,class:"list-group-item",onClick:A=>T(a)},[e("div",Re,[e("div",_e,m((t=(c=s.value[a])==null?void 0:c.code)==null?void 0:t.split("-")[1]),1),e("div",ue,m(((((i=s.value[a])==null?void 0:i.signed_change_rate)||0)*100).toFixed(2)),1),e("div",We,m(_(s.value[a],"lowest_52_week_price")),1),e("div",Ke,m(_(s.value[a],"highest_52_week_price")),1),e("div",ve,m((((C=s.value[a])==null?void 0:C.acc_trade_volume_24h)||0).toFixed(0)),1),e("div",ge,m((((b=s.value[a])==null?void 0:b.trade_price)||0).toFixed(2)),1)])],8,de)}),128))])])],64)}}},me=E(pe,[["__scopeId","data-v-e1a7f49b"]]);async function he(){try{const r=(await V.get("https://api.upbit.com/v1/market/all")).data;r.sort((o,s)=>o.trade_price-s.trade_price),r.forEach(o=>{console.log(`${o.market}의 현재 가격: ${o.trade_price}`)})}catch(n){console.error("업비트 API 호출 중 오류가 발생했습니다:",n)}}const be=["KRW-KAVA","KRW-SOL","KRW-ORBS","KRW-LOOM","KRW-BTC","KRW-WAVES","KRW-ETH","KRW-XEC","KRW-WAXP","KRW-TFUEL","KRW-ARB","KRW-GLM","KRW-META","KRW-SNT","KRW-MATIC","KRW-SUI","KRW-EGLD","KRW-STEEM"],Te=["KRW-WAVES","KRW-GLM","KRW-SNT","KRW-STEEM","KRW-SBD","KRW-WAXP","KRW-GAS","KRW-LOOM","KRW-HIFI","KRW-META","KRW-TFUEL","KRW-ORBS","KRW-KAVA","KRW-XEC"],Se=["KRW-BTC","KRW-ETH","KRW-EGLD","KRW-ARB","KRW-MATIC","KRW-SOL","KRW-SUI"],Ce=["KRW-ZRX","KRW-AQT","KRW-MTL","KRW-KAVA","KRW-CRO","KRW-SOL","KRW-SHIB","KRW-DOGE","KRW-STMX","KRW-ORBS","KRW-ICX","KRW-MASK","KRW-KNC","KRW-IOST","KRW-ALGO","KRW-IOTA","KRW-ARDR","KRW-CBK","KRW-CHZ","KRW-BLUR","KRW-EOS","KRW-ZIL","KRW-XRP","KRW-CELO","KRW-TRX","KRW-QKC","KRW-LOOM","KRW-SSX","KRW-PUNDIX","KRW-XLM","KRW-GMT","KRW-CRE","KRW-MANA","KRW-DOT","KRW-XTZ","KRW-NEAR","KRW-SEI","KRW-BAT","KRW-HBAR","KRW-TT","KRW-1INCH","KRW-SXP","KRW-HPO","KRW-POWR","KRW-UPP","KRW-FCT2","KRW-POLYX","KRW-BTC","KRW-THETA","KRW-ATOM","KRW-T","KRW-HIVE","KRW-MED","KRW-IQ","KRW-JST","KRW-CVC","KRW-SAND","KRW-MOC","KRW-WAVES","KRW-ANKR","KRW-ETH","KRW-APT","KRW-AXS","KRW-PLA","KRW-AHT","KRW-STPT","KRW-DKA","KRW-MLK","KRW-ONT","KRW-FLOW","KRW-ELF","KRW-SC","KRW-BORA","KRW-AERGO","KRW-BCH","KRW-XEC","KRW-GRT","KRW-STX","KRW-VET","KRW-MVL","KRW-LINK","KRW-ADA","KRW-QTUM","KRW-WAXP","KRW-HUNT","KRW-TFUEL","KRW-ARB","KRW-MBL","KRW-GLM","KRW-BSV","KRW-AVAX","KRW-STRK","KRW-META","KRW-BTG","KRW-SNT","KRW-STRAX","KRW-XEM","KRW-AAVE","KRW-MATIC","KRW-SUI","KRW-IMX","KRW-MINA","KRW-ETC","KRW-LSK","KRW-NEO","KRW-STORJ","KRW-EGLD","KRW-STEEM","KRW-ONG"];const ke={class:"container mt-3"},Ae={class:"d-flex align-items-center mb-3"},Le={class:"mx-3 badge bg-secondary"},Ee={class:"row"},Oe={class:"col-md-12"},fe={class:"tab-buttons"},we={class:"row"},Me={class:"col-md-6"},ye={class:"tab-buttons"},$e={__name:"PluginWebsocket_tabMain",setup(n){const r=g(150),o=g("Hold"),s=be,W=Te,p=Se,d=g(Ce),T=g({}),v=[...new Set([...s,...d.value])];g(null);const K=async()=>{try{const c=await he()}catch(c){console.error("Error retrieving Upbit coin prices:",c)}},_=c=>{o.value=c},R=c=>{const t=c.code;(W.includes(t)||p.includes(t)||d.value.includes(t))&&(T.value[t]=c)};B(()=>{X(v,T,W,p,d,R)});const l=O(()=>{const c=C=>{const b=C.code;return o.value==="Hold"&&W.includes(b)||o.value==="WatchList"&&p.includes(b)||o.value==="RankList"&&d.value.includes(b)};return Object.values(T.value).filter(c).slice(0,r.value)}),u=O(()=>{const c=[...l.value];return c.sort((t,i)=>i.signed_change_rate-t.signed_change_rate),c}),a=c=>{r.value=c.target.value};return(c,t)=>(h(),S("div",ke,[e("div",Ae,[H(e("input",{type:"range",min:"1",max:"130","onUpdate:modelValue":t[0]||(t[0]=i=>r.value=i),onInput:a,class:"form-range",style:{width:"100%"}},null,544),[[F,r.value]]),e("span",Le,m(r.value),1)]),e("div",{class:"d-flex mb-3"},[e("button",{onClick:K,class:"btn btn-primary"},"New Button")]),e("div",Ee,[e("div",Oe,[e("div",fe,[e("button",{onClick:t[1]||(t[1]=i=>_("Hold")),class:k({active:o.value==="Hold"})},"Hold",2),e("button",{onClick:t[2]||(t[2]=i=>_("WatchList")),class:k({active:o.value==="WatchList"})},"WatchList",2),e("button",{onClick:t[3]||(t[3]=i=>_("RankList")),class:k({active:o.value==="RankList"})},"RankList",2)]),N(me,{message:u.value},null,8,["message"]),e("div",we,[e("div",Me,[e("div",ye,[e("button",{onClick:t[4]||(t[4]=i=>_("Hold")),class:k({active:o.value==="Hold"})},"Hold",2),e("button",{onClick:t[5]||(t[5]=i=>_("WatchList")),class:k({active:o.value==="WatchList"})},"WatchList",2),e("button",{onClick:t[6]||(t[6]=i=>_("RankList")),class:k({active:o.value==="RankList"})},"RankList",2)]),(h(!0),S(L,null,y(u.value,i=>(h(),$(z,{message:i,key:i.code},null,8,["message"]))),128))])])])])]))}},Pe=E($e,[["__scopeId","data-v-c1ac9c70"]]),He={__name:"PluginWebsocket_tabView",setup(n){return(r,o)=>(h(),$(Pe))}};export{He as default};
