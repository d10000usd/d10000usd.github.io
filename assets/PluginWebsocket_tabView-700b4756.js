import{_ as x,t as y,r as g,b as p,w as k}from"./tickers_rating_order-67a3c129.js";import{r as _,o as i,c as l,a,n as d,b as T,t as f,d as W,F as w,e as C,f as h,g as I,h as L,i as O}from"./index-8663a8df.js";const S={class:"row"},$={class:"col-4 col-md-3"},P={class:"card"},B=["src"],H="https://m.stock.naver.com/crypto/UPBIT/",R={__name:"PluginType_Tab",props:{message:Object},setup(r){const t=r,c=t.message.code.split("-")[1],u=_(H+c),n=_(!1),v=()=>{n.value=!n.value};return(b,m)=>(i(),l(w,null,[a("div",S,[a("div",$,[a("div",P,[a("button",{onClick:v,class:d({active:n.value}),style:T({backgroundColor:r.message.signed_change_rate>=0?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 255, 0.5)",color:"black",fontSize:"13px"})},f(n.value?r.message.code:t.message.code.split("-")[1])+" "+f((t.message.signed_change_rate*100).toFixed(2)),7)])])]),n.value?(i(),l("iframe",{key:0,src:u.value,width:"100%",height:"500",scrolling:"no"},null,8,B)):W("",!0)],64))}},N=x(R,[["__scopeId","data-v-57987f6a"]]);const V={class:"ml-1"},j={class:"tab-buttons"},z={class:"coin-card-container-wrapper"},F={class:"coin-card-container"},D={__name:"PluginWebsocket_tab",setup(r){const t=_("Hold"),c=_({}),u=[...new Set([...y,...g])],n=s=>{t.value=s},v=async s=>{const e=await new Response(s.data).json();p.indexOf(e.code)!==-1&&(c.value[e.code]=e),k.indexOf(e.code)!==-1&&(c.value[e.code]=e),g.indexOf(e.code)!==-1&&(c.value[e.code]=e)};C(()=>{try{const s=new WebSocket("wss://api.upbit.com/websocket/v1");s.onopen=e=>{s.send(JSON.stringify([{ticket:"test"},{type:"ticker",codes:u}]))},s.onclose=e=>{console.error("WebSocket closed:",e)},s.onmessage=v}catch(s){console.log(s)}});const b=h(()=>Object.values(c.value).filter(s=>{if(t.value==="Hold")return p.indexOf(s.code)!==-1;if(t.value==="WatchList")return k.indexOf(s.code)!==-1;if(t.value==="RankList")return g.indexOf(s.code)!==-1})),m=h(()=>{const s=[...b.value];return s.sort((e,o)=>o.signed_change_rate-e.signed_change_rate),s});return(s,e)=>(i(),l("div",V,[a("div",j,[a("button",{onClick:e[0]||(e[0]=o=>n("Hold")),class:d({active:t.value==="Hold"})},"Hold",2),a("button",{onClick:e[1]||(e[1]=o=>n("WatchList")),class:d({active:t.value==="WatchList"})},"WatchList",2),a("button",{onClick:e[2]||(e[2]=o=>n("RankList")),class:d({active:t.value==="RankList"})},"RankList",2)]),a("div",z,[a("div",F,[(i(!0),l(w,null,I(m.value,o=>(i(),l("div",{key:o.code},[L(N,{message:o},null,8,["message"])]))),128))])])]))}},M=x(D,[["__scopeId","data-v-ef01a6a0"]]),q={__name:"PluginWebsocket_tabView",setup(r){return(t,c)=>(i(),O(M))}};export{q as default};
