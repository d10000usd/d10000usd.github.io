import{_ as M,r as a,o as E,m as z,a as _,c as x,e as V,F as S,p as Y,i as R,b as s,q as U,t as b,d as P,u as A,w as $,v as K}from"./index-08c72e63.js";import{f as W,m as I}from"./commonstatic_Tickers-88e866ea.js";import"./tickers_rating_order-ed602e7a.js";const N=g=>(Y("data-v-bb785cee"),g=g(),R(),g),X=N(()=>s("div",{class:"d-flex flex-wrap"},null,-1)),q={__name:"StaticsModule",props:{message:Object},setup(g){const h=g,f=a({types:h.message.types,ticker:h.message.ticker,candlecnt:h.message.candlecnt,timeInterval:h.message.timeInterval}),u=a([]);a([]),a([]),a([]);const o=a([]),i=a([]);a();const m=a([{name:"캔들 차트",type:"candlestick",data:[]},{name:"상승트렌드",type:"line",width:1,data:[]},{name:"하락트렌드",type:"line",width:1,data:[]}]),t=a({chart:{type:"candle",height:5250,width:100},stroke:{curve:"smooth",width:[1,9,9],colors:["#00FF00","#9E0ADD","#FFB291"]},toolbar:{show:!1},title:{text:f.value.ticker},fill:{colors:["blue","Green"],fill:{type:"solid",opacity:.7}},xaxis:{type:"datetime",labels:{show:!0},axisBorder:{show:!1}},animations:{speed:500112},markers:{hover:{sizeOffset:5}},annotations:{yaxis:[{y:4e7,borderColor:"#00E396",label:{borderColor:"#00E396",style:{color:"#fff",background:"#00E396"},text:"Support"}},{y:4e7,y2:26e6,borderColor:"#000",fillColor:"#FEB019",opacity:.9,label:{borderColor:"#333",style:{fontSize:"10px",color:"#333",background:"#FEB019"},text:"Y-axis range"}}],xaxis:[{x:15198272e5,strokeDashArray:0,borderColor:"#FF0000",label:{borderColor:"#775DD0",style:{color:"#fff",background:"#775DD0"},text:"Anno Test11111111"}},{x:new Date("01 Dec 20").getTime(),x2:new Date("01 Feb 2023").getTime(),fillColor:"#0000FF",opacity:.2,label:{borderColor:"#B3F7CA",style:{fontSize:"12px",color:"#FFFFFF",background:"#FF0000"},offsetY:-10,text:"X-axis range"}},{x:new Date("01 Dec 20").getTime(),x2:new Date("01 Feb 2023").getTime(),fillColor:"#B3F7CA",opacity:.3,label:{borderColor:"#B3F7CA",style:{fontSize:"12px",color:"#FFFFFF",background:"#0000FF"},offsetY:-10,text:"X-axis range"}}],points:[{x:new Date("01 Dec 2022").getTime(),y:26e6,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:12,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:10,style:{color:"#fff",background:"#FF4560"},text:"Point Annotation"}},{x:new Date("01 Dec 2022").getTime(),y:26e6,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Point Annotation"}},,{x:new Date("01 Dec 2022").getTime(),y:26e6,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#0000FF"},text:"Point Annotation"}},,{x:new Date("01 Dec 2022").getTime(),y:26e6,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#0000FF"},text:"Point Annotation"}}]},plotOptions:{candlestick:{colors:{upward:"#DF7D46",downward:"#3C90EB"},wick:{useFillColor:!0}}},yaxis:{tooltip:{enabled:!1}}});function B(e){let n=e.value[0].low_price,l=e.value[0].low_price,r=new Date(e.value[0].candle_date_time_kst).getTime(),y=new Date(e.value[0].candle_date_time_kst).getTime(),w=e.value[0].high_price,C=e.value[0].high_price,H=new Date(e.value[0].candle_date_time_kst).getTime(),L=new Date(e.value[0].candle_date_time_kst).getTime();for(const d of e.value){const p=new Date(d.candle_date_time_kst).getTime(),v=d.low_price,c=d.high_price;v<n&&(n=v,r=p),v>l&&(l=v,y=p),c<w&&(w=c,H=p),c>C&&(C=c,L=p)}return{minLowPrice:n,maxLowPrice:l,minLowDate:r,maxLowDate:y,minHighPrice:w,maxHighPrice:C,minHighDate:H,maxHighDate:L}}function D(e){const{minLowPrice:n,maxLowPrice:l,minLowDate:r,maxLowDate:y,minHighPrice:w,maxHighPrice:C,minHighDate:H,maxHighDate:L}=B(e);i.value=[{x:r,y:n},{x:y,y:l}],o.value=[{x:H,y:w},{x:L,y:C}];const d=k(o.value[0],o.value[1]),p=T(o.value[0],o.value[1]),v=k(i.value[0],i.value[1]),c=T(i.value[0],i.value[1]);return t.value.annotations.xaxis[0].x=c.x,t.value.annotations.xaxis[0].label.text="L",t.value.annotations.yaxis[0].y=d.y,t.value.annotations.yaxis[0].label.text="H",t.value.annotations.xaxis[1].x=p.x,t.value.annotations.xaxis[1].x2=c.x,t.value.annotations.xaxis[1].label.text="저점구간",t.value.annotations.xaxis[2].x=d.x,t.value.annotations.xaxis[2].x2=v.x,t.value.annotations.xaxis[2].label.text="고점구간",t.value.annotations.points[0].x=p.x,t.value.annotations.points[0].y=p.y,t.value.annotations.points[0].label.text=p.y,t.value.annotations.points[1].x=d.x,t.value.annotations.points[1].y=d.y,t.value.annotations.points[1].label.text=d.y,t.value.annotations.points[2].x=c.x,t.value.annotations.points[2].y=c.y,t.value.annotations.points[2].label.text=c.y,t.value.annotations.points[3].x=v.x,t.value.annotations.points[3].y=v.y,t.value.annotations.points[3].label.text=v.y,e.value.map(F=>({x:new Date(F.candle_date_time_kst).getTime(),y:[F.opening_price,F.high_price,F.low_price,F.trade_price]}))}function k(e,n){return e.y>n.y?e:e.y<n.y?n:e}function T(e,n){return e.y<n.y?e:e.y>n.y?n:e}const O=async()=>{try{let e="";const n=await W(f.value.types,f.value.ticker,f.value.candlecnt,f.value.timeInterval);u.value=n,m.value[0].data=D(u.value),m.value[1].data=o.value,m.value[2].data=i.value}catch(e){console.error(e)}};return E(()=>{O()}),(e,n)=>{const l=z("apexchart");return _(),x(S,null,[V(l,{type:"candlestick",options:t.value,series:m.value},null,8,["options","series"]),X],64)}}},G=M(q,[["__scopeId","data-v-bb785cee"]]);const j={class:"container-ml"},J={class:"div-block-space-style"},Q={class:"coin-card-container-wrapper div-block-space-style"},Z={class:"coin-card-container"},ee=["onClick"],te={class:"coin-card-container-wrapper div-block-space-style"},ne={class:"coin-card-container"},le=["onClick"],ae={class:"coin-card-container-wrapper div-block-space-style"},oe={class:"coin-card-container"},se=["onClick"],ie={class:"container-xxl m-1 text-center"},re={__name:"StaticsView",setup(g){I.getTickersUDF();const h=I.getBalancesTickersUDF(),f=I.getRankTickersUDF(),u=a("weeks"),o=a(20),i=a("KRW-ETH"),m=a({types:"candle",ticker:i,candlecnt:o,timeInterval:u});a({types:"candle",ticker:i,candlecnt:o,timeInterval:u}),a({types:"candle",ticker:i,candlecnt:o,timeInterval:u});const t=a({minutes1:{Open:null,High:null,Low:null,Close:null},minutes3:{Open:null,High:null,Low:null,Close:null},minutes5:{Open:null,High:null,Low:null,Close:null},minutes10:{Open:null,High:null,Low:null,Close:null},minutes15:{Open:null,High:null,Low:null,Close:null},minutes30:{Open:null,High:null,Low:null,Close:null},minutes60:{Open:null,High:null,Low:null,Close:null},minutes240:{Open:null,High:null,Low:null,Close:null},days:{Open:null,High:null,Low:null,Close:null},weeks:{Open:null,High:null,Low:null,Close:null},months:{Open:null,High:null,Low:null,Close:null}}),B=e=>{u.value=e,k()},D=e=>{i.value=e,k()},k=()=>{m.value={types:"candle",ticker:i.value,candlecnt:o.value,timeInterval:u.value}};function T(e){return e.replace("minutes","")}function O(e){return e.replace("KRW-","")}return(e,n)=>(_(),x("div",j,[(_(),U(G,{message:m.value,key:m.value},null,8,["message"])),s("div",J,b(i.value)+"-"+b(o.value)+"-"+b(u.value),1),s("div",Q,[s("div",Z,[(_(!0),x(S,null,P(Object.keys(t.value),(l,r)=>(_(),x("div",{key:r},[s("button",{onClick:y=>B(l),class:"btn-sm rounded-button btn-outline-primary"},b(T(l)),9,ee)]))),128))])]),s("div",te,[s("div",ne,[(_(!0),x(S,null,P(Object.values(A(f)),(l,r)=>(_(),x("div",{key:r},[s("button",{onClick:y=>D(l),class:"col-md-11 btn-sm rounded-button btn-outline-primary"},b(O(l)),9,le)]))),128))])]),s("div",ae,[s("div",oe,[(_(!0),x(S,null,P(Object.values(A(h)),(l,r)=>(_(),x("div",{key:r},[s("button",{onClick:y=>D(l),class:"col-md-11 btn-sm rounded-button btn-outline-primary"},b(O(l)),9,se)]))),128))])]),s("button",{onClick:k,class:"btn-sm rounded-button btn-outline-primary"},"Update Coin Ticker"),s("div",ie,[$(s("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=l=>o.value=l),min:"0",max:"5000",onInput:n[1]||(n[1]=(...l)=>e.updateCnt&&e.updateCnt(...l)),class:"w-100"},null,544),[[K,o.value]]),s("p",null," [캔들갯수 "+b(o.value)+"] 상단차트는 설정값 차트, 하단은 7일기준 몫+나머지",1)])]))}},pe=M(re,[["__scopeId","data-v-0fe84ce4"]]);export{pe as default};
