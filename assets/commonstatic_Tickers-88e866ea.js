import{r as k}from"./index-08c72e63.js";import{t as c,w as u,b,r as d}from"./tickers_rating_order-ed602e7a.js";const h=t=>t.split("-")[1];async function w(t,n,i,s){try{let e=null;if(s==="months"||s==="weeks"||s==="days")e=`https://api.upbit.com/v1/candles/${s}/?market=KRW-${h(n)}&count=${i}`;else{const o=s.match(/([a-zA-Z]+)(\d+)/),p=o?o[1]:null,U=o?o[2]:null;e=`https://api.upbit.com/v1/candles/${p}/${U}?market=KRW-${h(n)}&count=${i}`}const r=await fetch(e);if(!r.ok)throw new Error(`Request failed with status: ${r.status}`);const l=await r.json(),a=k(null);return a.value=l,a}catch(e){console.error(e)}}const f={baseUrl:"http://172.30.1.10:5002/",pingEndpoint:"ping",booksEndpoint:"books",coinsEndpoint:"coins",websocket:"websocket",UpbitInfo:"upbitinfo",UpdateMarkdown:"updatemarkdown",chartcoin:"chartcoin/1",chartstock:"chartstock/1",Bokeh:"bokeh/1",Report:"report/1",getPingRouteURL(){return console.log(this.baseUrl+this.pingEndpoint),this.baseUrl+this.pingEndpoint},getCoinsRouteURL(){return console.log(this.baseUrl+this.coinsEndpoint),this.baseUrl+this.coinsEndpoint},getWebsocketRouteURL(){return console.log(this.baseUrl+this.websocket),this.baseUrl+this.websocket},getUpbitInfoRouteURL(){return console.log(this.baseUrl+this.UpbitInfo),this.baseUrl+this.UpbitInfo},getUpdateMarkdownRouteURL(){return console.log(this.baseUrl+this.UpdateMarkdown),this.baseUrl+this.UpdateMarkdown},getUpdateChartCoinRouteURL(){return console.log(this.baseUrl+this.chartcoin),this.baseUrl+this.chartcoin},getUpdateChartStockRouteURL(){return console.log(this.baseUrl+this.chartstock),this.baseUrl+this.chartstock},getUpdateBokehRouteURL(){return console.log(this.baseUrl+this.Bokeh),this.baseUrl+this.Bokeh},getUpdateReportRouteURL(){return console.log(this.baseUrl+this.Report),this.baseUrl+this.Report},getTickersUDF(){return[...new Set([...c,...c])]},getWatchesTickerUDF(){return u},getBalancesTickersUDF(){return b},getRankTickersUDF(){return d}};export{w as f,f as m};
