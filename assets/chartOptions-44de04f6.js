async function w(e,a,t,r){try{if(!a)return console.warn("Invalid tickerg. Returning empty array."),[];let l=null;if(r==="months"||r==="weeks"||r==="days")l=`https://api.upbit.com/v1/candles/${r}/?market=${a}&count=${t}`;else if(r.startsWith("minute"))console.log(r),l=`https://api.upbit.com/v1/candles/minutes/${parseInt(r.replace("minute",""))}?market=${a}&count=${t}`;else{const i=r.match(/([a-zA-Z]+)(\d+)/),m=i?i[1]:null,o=i?i[2]:null;l=`https://api.upbit.com/v1/candles/${m}/${o}?market=${a}&count=${t}`}const n=await fetch(l);if(!n.ok){if(n.status===404)return console.warn("Candle data not found. Returning empty array."),[];throw new Error(`Request failed with status: ${n.status}`)}const s=await n.json();if(!Array.isArray(s)||s.length===0)return console.warn("Received empty or invalid candle data from the API."),[];const c=[];return s.reverse().forEach(i=>{if(!i.candle_date_time_utc){console.warn("Missing 'candle_date_time_utc' property in API response.");return}const o={time:new Date(i.candle_date_time_utc).getTime()/1e3,open:i.opening_price,high:i.high_price,low:i.low_price,close:i.trade_price};c.push(o)}),c}catch(l){throw console.error("Error fetching or formatting candle data:",l),l}}function C(e,a){let t=e[0].low,r=e[0].high,l=e[0].time,n=e[0].time,s=e[e.length-1].close;for(let o=1;o<e.length;o++){const u=e[o].high,p=e[o].time;u>r&&(r=u,n=p),e[o].low<t&&(t=e[o].low,l=p),s=e[o].close}const c=(r+t+s)/a,i=(n+l)/2;return{minimum:{time:l,value:t},maximum:{time:n,value:r},average:{time:i,value:c},lastClose:{time:e[e.length-1].time,value:s},weightValue:a}}const b={timeVisible:"true",secondsVisible:"false"},h={autoScale:"true",scaleMargins:{top:.1,bottom:.2}},d={vertLines:!1,horzLines:!1},g={style:"currency",currency:"KRW"},f={ma3:{color:"rgba(255, 0, 0, 1)",lineWidth:2,priceLineVisible:"false"},ma5:{color:"rgba(0, 0, 255, 1)",lineWidth:2,priceLineVisible:"false"},ma15:{color:"rgba(128, 128, 128, 1)",lineWidth:6,priceLineVisible:"false"},ma65:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma95:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma125:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma155:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma185:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma215:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"},ma245:{color:"rgba(128, 128, 128, 1)",lineWidth:2,priceLineVisible:"false"}},L={vertLine:{width:2,color:"#C3BCDB44",labelBackgroundColor:"#9B7DFF"},horzLine:{color:"#9B7DFF",labelBackgroundColor:"#9B7DFF"}},y={font:{layout:{fontFamily:"'Roboto', sans-serif"}},mainSeries:{upColor:"rgba(0, 150, 136, 1)",downColor:"rgba(255,82,82, 1)",borderDownColor:"rgba(255,82,82, 1)",borderUpColor:"rgba(0, 150, 136, 1)",wickDownColor:"rgba(255,82,82, 1)",wickUpColor:"rgba(0, 150, 136, 1)",borderVisible:!0,wickVisible:!0,borderColor:"#378658",lineWidth:2},minPriceLine:{price:"this.guidline.minimum.value ",color:"#ef5350",lineWidth:4,lineStyle:2,axisLabelVisible:!0,title:"최저가",textAlign:"left"},avgPriceLine:{price:"this.guidline.average.value",color:"black",lineWidth:6,lineStyle:0,axisLabelVisible:!0,title:"저항선"},maxPriceLine:{price:"this.guidline.maximum.value",color:"#26a69a",lineWidth:4,lineStyle:2,axisLabelVisible:!1,title:"최고가",textAlign:"left"},lineColor:{priceScaleColor:{borderColor:"#71649C"},timeScaleColor:{borderColor:"#71649C",barSpacing:110}},priceScale:{autoScale:!0,scaleMargins:{top:.1,bottom:.2},mode:" LightweightCharts.PriceScaleMode.Normal"},priceFormatter:{style:"currency",currency:"KRW"},trendline:{regist:[{color:"red",lineWidth:4,priceLineVisible:!1},{color:"blue",lineWidth:4,priceLineVisible:!1},{color:"black",lineWidth:4,priceLineVisible:!1}],surport:[{color:"red",lineWidth:4,priceLineVisible:!1},{color:"blue",lineWidth:4,priceLineVisible:!1},{color:"black",lineWidth:4,priceLineVisible:!1}]}},W={timeScale:b,priceScale:h,grid:d,priceFormatter:g,movingAverages:f,crosshair:L,lineOption:y};export{W as a,C as c,w as f};
