import{_ as C,r as u,o as r,c as _,a as e,n as p,b as y,t as T,d as k,p as N,e as P,f as X,g as A,w,v as V,F as h,h as E,i as L}from"./index-068c63fb.js";import{a as H}from"./axios-21b846bc.js";const x=(c,n,t,v,R,d)=>{let l=null;const i=W=>{try{if(W.data instanceof Blob)W.data.text().then(K=>{const S=JSON.parse(K);d(S)});else{const K=JSON.parse(W.data);d(K)}}catch(K){console.error("Error parsing WebSocket message:",K)}};try{l=new WebSocket("wss://api.upbit.com/websocket/v1"),l.onopen=()=>{l==null||l.send(JSON.stringify([{ticket:"test"},{type:"ticker",codes:c}]))},l.onclose=W=>{console.error("WebSocket closed:",W)},l.onmessage=i}catch(W){console.log(W)}};const D=c=>(N("data-v-fb0c9273"),c=c(),P(),c),$={class:"row"},U={class:"col-12 col-md-4 col-lg-3"},F={class:"card"},G=["src"],J=D(()=>e("div",{class:"col-12 col-md-8 col-lg-9"},[e("div")],-1)),Q="https://m.stock.naver.com/crypto/UPBIT/",Z={__name:"PluginType_Tab",props:{message:Object},setup(c){const n=c,t=n.message.code.split("-")[1],v=u(Q+t),R=u(!1),d=()=>{R.value=!R.value};return(l,i)=>(r(),_("div",$,[e("div",U,[e("div",F,[e("button",{onClick:d,class:p({active:R.value}),style:y({backgroundColor:c.message.signed_change_rate>=0?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 255, 0.5)",color:"black",fontSize:"13px"})},T(R.value?c.message.code:n.message.code.split("-")[1])+" "+T((n.message.signed_change_rate*100).toFixed(2)),7)])]),R.value?(r(),_("iframe",{key:0,src:v.value,width:"100%",height:"500",scrolling:"no"},null,8,G)):k("",!0),J]))}},j=C(Z,[["__scopeId","data-v-fb0c9273"]]);async function z(){try{const n=(await H.get("https://api.upbit.com/v1/market/all")).data;n.sort((t,v)=>t.trade_price-v.trade_price),n.forEach(t=>{console.log(`${t.market}의 현재 가격: ${t.trade_price}`)})}catch(c){console.error("업비트 API 호출 중 오류가 발생했습니다:",c)}}const Y=["KRW-KAVA","KRW-ORBS","KRW-BTC","KRW-SOL","KRW-ETH","KRW-XEC","KRW-META","KRW-GLM","KRW-ARB","KRW-TFUEL","KRW-WAXP","KRW-MATIC","KRW-WAVES","KRW-LOOM","KRW-SNT","KRW-SUI","KRW-EGLD","KRW-STEEM"],q=["KRW-WAVES","KRW-GLM","KRW-SNT","KRW-STEEM","KRW-SBD","KRW-WAXP","KRW-GAS","KRW-LOOM","KRW-HIFI","KRW-META","KRW-TFUEL","KRW-ORBS","KRW-KAVA","KRW-XEC"],ee=["KRW-BTC","KRW-ETH","KRW-EGLD","KRW-ARB","KRW-MATIC","KRW-SOL","KRW-SUI"],se=["KRW-ZRX","KRW-KAVA","KRW-SHIB","KRW-AQT","KRW-STMX","KRW-IOTA","KRW-KNC","KRW-MTL","KRW-CRO","KRW-ICX","KRW-ARDR","KRW-DOGE","KRW-MASK","KRW-ORBS","KRW-IOST","KRW-XRP","KRW-EOS","KRW-XLM","KRW-TRX","KRW-AHT","KRW-ZIL","KRW-HBAR","KRW-CVC","KRW-BTC","KRW-NEAR","KRW-SSX","KRW-BLUR","KRW-CRE","KRW-BAT","KRW-ALGO","KRW-CELO","KRW-HPO","KRW-THETA","KRW-CHZ","KRW-UPP","KRW-TT","KRW-ADA","KRW-SOL","KRW-QKC","KRW-FCT2","KRW-XTZ","KRW-ETH","KRW-MLK","KRW-ELF","KRW-JST","KRW-DOT","KRW-SEI","KRW-MED","KRW-BORA","KRW-CBK","KRW-PUNDIX","KRW-POLYX","KRW-HIVE","KRW-POWR","KRW-STX","KRW-PLA","KRW-ANKR","KRW-DKA","KRW-VET","KRW-T","KRW-SXP","KRW-BCH","KRW-MOC","KRW-XEC","KRW-AERGO","KRW-APT","KRW-ONT","KRW-ATOM","KRW-MANA","KRW-HUNT","KRW-IQ","KRW-META","KRW-SC","KRW-FLOW","KRW-GMT","KRW-MVL","KRW-1INCH","KRW-STPT","KRW-SAND","KRW-GLM","KRW-AXS","KRW-ARB","KRW-GRT","KRW-MBL","KRW-TFUEL","KRW-BSV","KRW-WAXP","KRW-LINK","KRW-STRK","KRW-STRAX","KRW-AVAX","KRW-MATIC","KRW-AAVE","KRW-QTUM","KRW-BTG","KRW-WAVES","KRW-MINA","KRW-LOOM","KRW-ETC","KRW-XEM","KRW-SNT","KRW-SUI","KRW-IMX","KRW-LSK","KRW-NEO","KRW-EGLD","KRW-ONG","KRW-STEEM","KRW-STORJ","KRW-TON"];const te={class:"container mt-3"},oe={class:"d-flex align-items-center mb-3"},ae={class:"mx-3 badge bg-secondary"},ce={class:"row"},ne={class:"col-md-12"},le={class:"row"},Re={class:"col-md-6"},ie={class:"tab-buttons"},We={class:"coininfo mt-3"},Ke={key:0,class:"alert alert-info"},re={class:"col-md-6"},de={class:"coininfo"},ue={class:"list-group"},_e=["onClick"],ve={__name:"PluginWebsocket_tabMain",setup(c){const n=u(150),t=u("Hold"),v=Y,R=q,d=ee,l=u(se),i=u({}),W=[...new Set([...v,...l.value])],K=u(null),S=s=>{K.value=s},O=async()=>{try{const s=await z()}catch(s){console.error("Error retrieving Upbit coin prices:",s)}},g=s=>{t.value=s},f=s=>{const o=s.code;(R.includes(o)||d.includes(o)||l.value.includes(o))&&(i.value[o]=s)};X(()=>{x(W,i,R,d,l,f)});const M=A(()=>{const s=b=>{const m=b.code;return t.value==="Hold"&&R.includes(m)||t.value==="WatchList"&&d.includes(m)||t.value==="RankList"&&l.value.includes(m)};return Object.values(i.value).filter(s).slice(0,n.value)}),I=A(()=>{const s=[...M.value];return s.sort((o,a)=>a.signed_change_rate-o.signed_change_rate),s}),B=s=>{n.value=s.target.value};return(s,o)=>(r(),_("div",te,[e("div",oe,[w(e("input",{type:"range",min:"1",max:"130","onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),onInput:B,class:"form-range",style:{width:"100%"}},null,544),[[V,n.value]]),e("span",ae,T(n.value),1)]),e("div",{class:"d-flex mb-3"},[e("button",{onClick:O,class:"btn btn-primary"},"New Button")]),e("div",ce,[e("div",ne,[e("div",le,[e("div",Re,[e("div",ie,[e("button",{onClick:o[1]||(o[1]=a=>g("Hold")),class:p({active:t.value==="Hold"})},"Hold",2),e("button",{onClick:o[2]||(o[2]=a=>g("WatchList")),class:p({active:t.value==="WatchList"})},"WatchList",2),e("button",{onClick:o[3]||(o[3]=a=>g("RankList")),class:p({active:t.value==="RankList"})},"RankList",2)]),(r(!0),_(h,null,E(I.value,a=>(r(),L(j,{message:a,key:a.code},null,8,["message"]))),128))]),e("div",We,[K.value?(r(),_("p",Ke,"Selected Value: "+T(i.value[K.value]),1)):k("",!0)]),e("div",re,[e("div",de,[e("ul",ue,[(r(!0),_(h,null,E(Object.keys(i.value),a=>(r(),_("li",{key:a,class:"list-group-item",onClick:b=>S(a)},T(a)+" : "+T(i.value[a].trade_price),9,_e))),128))])])])])])])]))}},Te=C(ve,[["__scopeId","data-v-59715f88"]]),ge={__name:"PluginWebsocket_tabView",setup(c){return(n,t)=>(r(),L(Te))}};export{ge as default};
