import{_ as P,r as a,o as A,m as S,a as u,q as B,c as h,b as l,t as v,F as D,d as L,u as I,w as E,v as z}from"./index-08c72e63.js";import{f as V,m as H}from"./commonstatic_Tickers-88e866ea.js";import"./tickers_rating_order-ed602e7a.js";const Y={__name:"StaticsModule_basic",props:{message:Object},setup(O){const x=O,m=a({types:x.message.types,ticker:x.message.ticker,candlecnt:x.message.candlecnt,timeInterval:x.message.timeInterval}),f=a([]),r=a([]),_=a([]),d=a([{name:"캔들 차트",type:"candlestick",data:[]},{name:"상승트렌드",type:"line",width:1,data:[]},{name:"하락트렌드",type:"line",width:1,data:[]}]),w=a({chart:{type:"candle",height:5250,width:100},stroke:{curve:"smooth",width:[1,9,9],colors:["#00FF00","#9E0ADD","#FFB291"]},toolbar:{show:!1},title:{text:m.value.ticker},fill:{colors:["blue","Green"],fill:{type:"solid",opacity:.3}},xaxis:{type:"datetime",labels:{show:!0},axisBorder:{show:!1}},animations:{speed:1},markers:{hover:{sizeOffset:5}},annotations:{yaxis:[{y:0,borderColor:"#00E396",label:{borderColor:"#00E396",style:{color:"#fff",background:"#00E396"},text:"Support"}},{y:0,y2:0,borderColor:"#000",fillColor:"#FEB019",opacity:.9,label:{borderColor:"#333",style:{fontSize:"10px",color:"#333",background:"#FEB019"},text:"Y-axis range"}}],xaxis:[{x:0,strokeDashArray:0,borderColor:"#FF0000",label:{borderColor:"#775DD0",style:{color:"#fff",background:"#775DD0"},text:"Anno Test11111111"}},{x:0,x2:0,fillColor:"#0000FF",opacity:.3,label:{borderColor:"#B3F7CA",style:{fontSize:"12px",color:"#FFFFFF",background:"#FF0000"},offsetY:-10,text:"X-axis range"}},{x:0,x2:0,fillColor:"#B3F7CA",opacity:.4,label:{borderColor:"#B3F7CA",style:{fontSize:"12px",color:"#FFFFFF",background:"#0000FF"},offsetY:-10,text:"X-axis range"}}],points:[{x:0,y:0,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:12,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:10,style:{color:"#fff",background:"#FF4560"},text:"Point Annotation"}},{x:0,y:0,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Point Annotation"}},,{x:0,y:0,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#0000FF"},text:"Point Annotation"}},,{x:new Date("01 Dec 2022").getTime(),y:0,marker:{size:5,fillColor:"#fff",strokeColor:"red",radius:2,cssClass:"apexcharts-custom-class"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#0000FF"},text:"Point Annotation"}}]},plotOptions:{candlestick:{colors:{upward:"#DF7D46",downward:"#3C90EB"},wick:{useFillColor:!0}}},yaxis:{tooltip:{enabled:!1}}});function F(s){let n=1/0,e=-1/0,i=1/0,t=-1/0,o=1/0,p=-1/0,b=1/0,k=-1/0;for(const c of s.value){const g=new Date(c.candle_date_time_kst).getTime(),T=c.low_price,M=c.high_price;n=Math.min(n,T),e=Math.max(e,T),i=Math.min(i,g),t=Math.max(t,g),o=Math.min(o,M),p=Math.max(p,M),b=Math.min(b,g),k=Math.max(k,g)}return{minLowPrice:n,maxLowPrice:e,minLowDate:i,maxLowDate:t,minHighPrice:o,maxHighPrice:p,minHighDate:b,maxHighDate:k}}function C(s){const{minLowPrice:n,maxLowPrice:e,minLowDate:i,maxLowDate:t,minHighPrice:o,maxHighPrice:p,minHighDate:b,maxHighDate:k}=F(s);return _.value=[{x:i,y:n},{x:t,y:e}],r.value=[{x:b,y:o},{x:k,y:p}],s.value.map(c=>({x:new Date(c.candle_date_time_kst).getTime(),y:[c.opening_price,c.high_price,c.low_price,c.trade_price]}))}const y=async()=>{try{let s="";const n=await V(m.value.types,m.value.ticker,m.value.candlecnt,m.value.timeInterval);f.value=n,d.value[0].data=C(f.value),d.value[1].data=r.value,d.value[2].data=_.value}catch(s){console.error(s)}};return A(()=>{y()}),(s,n)=>{const e=S("apexchart");return u(),B(e,{type:"candlestick",options:w.value,series:d.value},null,8,["options","series"])}}},R=P(Y,[["__scopeId","data-v-8fb396b5"]]);const U={class:"container-xxl"},j={class:"container-xxl chart-container"},$={class:""},K={class:"coin-card-container-wrapper div-block-space-style"},W={class:"coin-card-container"},X=["onClick"],q={class:"coin-card-container-wrapper div-block-space-style"},G={class:"coin-card-container"},N=["onClick"],J={class:"coin-card-container-wrapper div-block-space-style"},Q={class:"coin-card-container"},Z=["onClick"],ee={class:"container-xxl m-1 text-center"},te={__name:"TestView",setup(O){H.getTickersUDF();const x=H.getBalancesTickersUDF(),m=H.getRankTickersUDF(),f=a("weeks"),r=a(20),_=a("KRW-ETH"),d=a({types:"candle",ticker:_,candlecnt:r,timeInterval:f}),w=a({minutes1:{Open:null,High:null,Low:null,Close:null},minutes3:{Open:null,High:null,Low:null,Close:null},minutes5:{Open:null,High:null,Low:null,Close:null},minutes10:{Open:null,High:null,Low:null,Close:null},minutes15:{Open:null,High:null,Low:null,Close:null},minutes30:{Open:null,High:null,Low:null,Close:null},minutes60:{Open:null,High:null,Low:null,Close:null},minutes240:{Open:null,High:null,Low:null,Close:null},days:{Open:null,High:null,Low:null,Close:null},weeks:{Open:null,High:null,Low:null,Close:null},months:{Open:null,High:null,Low:null,Close:null}}),F=e=>{f.value=e,y()},C=e=>{_.value=e,y()},y=()=>{d.value={types:"candle",ticker:_.value,candlecnt:r.value,timeInterval:f.value}};function s(e){return e.replace("minutes","")}function n(e){return e.replace("KRW-","")}return(e,i)=>(u(),h("div",U,[l("div",j,[(u(),B(R,{message:d.value,key:d.value},null,8,["message"]))]),l("div",$,v(_.value)+"-"+v(r.value)+"-"+v(f.value),1),l("div",K,[l("div",W,[(u(!0),h(D,null,L(Object.keys(w.value),(t,o)=>(u(),h("div",{key:o},[l("button",{onClick:p=>F(t),class:"btn-sm rounded-button btn-outline-primary"},v(s(t)),9,X)]))),128))])]),l("div",q,[l("div",G,[(u(!0),h(D,null,L(Object.values(I(m)),(t,o)=>(u(),h("div",{key:o},[l("button",{onClick:p=>C(t),class:"col-md-11 btn-sm rounded-button btn-outline-primary:active"},v(n(t)),9,N)]))),128))])]),l("div",J,[l("div",Q,[(u(!0),h(D,null,L(Object.values(I(x)),(t,o)=>(u(),h("div",{key:o},[l("button",{onClick:p=>C(t),class:"col-md-11 btn-sm rounded-button btn-outline-primary:active"},v(n(t)),9,Z)]))),128))])]),l("button",{onClick:y,class:"btn-sm rounded-button btn-outline-primary:active"},"Update Coin Ticker"),l("div",ee,[E(l("input",{type:"range","onUpdate:modelValue":i[0]||(i[0]=t=>r.value=t),min:"0",max:"5000",onInput:i[1]||(i[1]=(...t)=>e.updateCnt&&e.updateCnt(...t)),class:"w-100"},null,544),[[z,r.value]]),l("p",null," [캔들갯수 "+v(r.value)+"] 상단차트는 설정값 차트, 하단은 7일기준 몫+나머지",1)])]))}},ae=P(te,[["__scopeId","data-v-36a01659"]]);export{ae as default};
