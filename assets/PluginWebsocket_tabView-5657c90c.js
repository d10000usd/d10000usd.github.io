import{_ as x,r as u,o as l,c as d,a,n as _,b as T,t as p,d as W,F as w,e as C,f as k,g as I,h as L,i as O}from"./index-dd4a69cf.js";import{t as S,r as b,b as f,w as h}from"./tickers_rating_order-2fbfe2f9.js";const $={class:"row"},P={class:"col-4 col-md-3"},B={class:"card"},H=["src"],R="https://m.stock.naver.com/crypto/UPBIT/",N={__name:"PluginType_Tab",props:{message:Object},setup(r){const t=r,c=t.message.code.split("-")[1],v=u(R+c),n=u(!1),g=()=>{n.value=!n.value};return(i,m)=>(l(),d(w,null,[a("div",$,[a("div",P,[a("div",B,[a("button",{onClick:g,class:_({active:n.value}),style:T({backgroundColor:r.message.signed_change_rate>=0?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 255, 0.5)",color:"black",fontSize:"13px"})},p(n.value?r.message.code:t.message.code.split("-")[1])+" "+p((t.message.signed_change_rate*100).toFixed(2)),7)])])]),n.value?(l(),d("iframe",{key:0,src:v.value,width:"100%",height:"500",scrolling:"no"},null,8,H)):W("",!0)],64))}},V=x(N,[["__scopeId","data-v-b5480c42"]]);const j={class:"ml-1"},z={class:"tab-buttons"},F={class:"coin-card-container-wrapper"},D={class:"coin-card-container"},M={__name:"PluginWebsocket_tab",setup(r){const t=u("Hold"),c=u({}),v=[...new Set([...S,...b])],n=s=>{t.value=s},g=async s=>{const e=await new Response(s.data).json();f.indexOf(e.code)!==-1&&(c.value[e.code]=e),h.indexOf(e.code)!==-1&&(c.value[e.code]=e),b.indexOf(e.code)!==-1&&(c.value[e.code]=e)};let i=null;C(()=>{try{i=new WebSocket("wss://api.upbit.com/websocket/v1"),i.onopen=s=>{i.send(JSON.stringify([{ticket:"test"},{type:"ticker",codes:v}]))},i.onclose=s=>{console.error("WebSocket closed:",s)},i.onmessage=g}catch(s){console.log(s)}});const m=k(()=>Object.values(c.value).filter(s=>{if(t.value==="Hold")return f.indexOf(s.code)!==-1;if(t.value==="WatchList")return h.indexOf(s.code)!==-1;if(t.value==="RankList")return b.indexOf(s.code)!==-1})),y=k(()=>{const s=[...m.value];return s.sort((e,o)=>o.signed_change_rate-e.signed_change_rate),s});return(s,e)=>(l(),d("div",j,[a("div",z,[a("button",{onClick:e[0]||(e[0]=o=>n("Hold")),class:_({active:t.value==="Hold"})},"Hold",2),a("button",{onClick:e[1]||(e[1]=o=>n("WatchList")),class:_({active:t.value==="WatchList"})},"WatchList",2),a("button",{onClick:e[2]||(e[2]=o=>n("RankList")),class:_({active:t.value==="RankList"})},"RankList",2)]),a("div",F,[a("div",D,[(l(!0),d(w,null,I(y.value,o=>(l(),d("div",{key:o.code},[L(V,{message:o},null,8,["message"])]))),128))])])]))}},A=x(M,[["__scopeId","data-v-f05e08e4"]]),G={__name:"PluginWebsocket_tabView",setup(r){return(t,c)=>(l(),O(A))}};export{G as default};
